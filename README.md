# Git 分支对比工具

这是一个用于比较 Git 分支差异的工具，它提供了一个交互式的界面来查看和管理不同分支之间的提交差异。

## 功能特点

1. **分支对比**

   - 支持选择基准分支和多个目标分支进行对比
   - 可以按时间范围筛选提交
   - 支持按作者筛选提交（带搜索功能）

2. **可视化展示**

   - Markdown 格式的差异报告
   - 交互式 HTML 时间轴视图
   - 清晰的提交状态标识（🔴基准分支、🔵目标分支、🔴🔵共同提交）

3. **提交管理**

   - 支持忽略特定提交
   - 提供提交过滤功能（全部/仅基准分支/仅目标分支/共同提交/已忽略）
   - 保存忽略的提交记录

4. **Cherry-pick 支持**
   - 生成基础 cherry-pick 命令
   - 提供优化的 cherry-pick 命令（自动合并连续提交）
   - 一键复制命令功能

## 安装

1. 进入工具目录：

   ```bash
   cd scripts/branch-compare
   ```

2. 安装依赖：
   ```bash
   npm install
   ```

## 使用方法

1. 运行工具：

   ```bash
   node index.js
   ```

2. 按照提示进行选择：

   - 选择基准分支
   - 选择一个或多个目标分支
   - 选择时间范围
   - 选择作者（支持搜索）

3. 查看生成的报告：
   - `branch-diff.md`：Markdown 格式的差异报告
   - `branch-timeline.html`：交互式时间轴视图

## 时间轴视图功能

1. **提交过滤**

   - 全部提交
   - 仅基准分支
   - 仅目标分支
   - 共同提交
   - 已忽略的提交

2. **交互功能**
   - 点击提交信息可复制
   - 点击提交哈希可复制
   - 可以忽略/取消忽略提交
   - 提供基础和优化的 cherry-pick 命令
   - 命令块可一键复制

## 注意事项

1. 工具会在端口 3000 启动一个本地服务器，用于处理忽略提交的保存功能
2. 忽略的提交记录保存在 `data/commit-ignore.json` 文件中
3. 使用 Ctrl+C 可以优雅地关闭工具
